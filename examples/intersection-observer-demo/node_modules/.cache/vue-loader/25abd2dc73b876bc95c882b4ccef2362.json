{"remainingRequest":"/Users/evensun/vue3-app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/evensun/vue3-app/src/App.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/evensun/vue3-app/src/App.vue","mtime":1647789324337},{"path":"/Users/evensun/vue3-app/node_modules/cache-loader/dist/cjs.js","mtime":1647691687777},{"path":"/Users/evensun/vue3-app/node_modules/babel-loader/lib/index.js","mtime":1647691687995},{"path":"/Users/evensun/vue3-app/node_modules/ts-loader/index.js","mtime":1647693675933},{"path":"/Users/evensun/vue3-app/node_modules/cache-loader/dist/cjs.js","mtime":1647691687777},{"path":"/Users/evensun/vue3-app/node_modules/vue-loader-v16/dist/index.js","mtime":1647691687991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IFZ1ZSwgc2V0dXAgfSBmcm9tICJ2dWUtY2xhc3MtY29tcG9uZW50IjsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWYsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKCmZ1bmN0aW9uIHVzZVNlbGVjdGVkKCkgewogIGxldCBhY3RpdmVLZXkgPSByZWYoMCk7CgogIGNvbnN0IHRhZ1NlbGVjdGVkID0gKGluZGV4OiBudW1iZXIpID0+IHsKICAgIGFjdGl2ZUtleS52YWx1ZSA9IGluZGV4OwogIH07CgogIGNvbnN0IHF1ZXVlOiBBcnJheTxudW1iZXI+ID0gcmVhY3RpdmUoW10pOwogIGNvbnN0IHF1ZXVlU2V0OiBTZXQ8bnVtYmVyPiA9IG5ldyBTZXQoKTsKICBjb25zdCBhZGRPYnNlcnZlciA9ICgpID0+IHsKICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiI2RlbW8tc2Nyb2xsIik7CiAgICBsZXQgb3B0aW9ucyA9IHsKICAgICAgcm9vdCwKICAgICAgdGhyZXNob2xkOiBbMF0sCiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZUludGVyc2VjdCA9IChlbnRyaWVzOiBhbnkpID0+IHsKICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeTogYW55KSA9PiB7CiAgICAgICAgCiAgICAgICAgLy8g6Kej5p6QaWQKICAgICAgICBjb25zdCBpZCA9IGVudHJ5Py50YXJnZXQ/LmlkLnNwbGl0KCItIilbMV0gfHwgMDsKCiAgICAgICAgLy8g55u45LqkCiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICBpZiAoIXF1ZXVlU2V0LmhhcyhpZCkpIHsKICAgICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgTWF0aC5hYnMoaWQgLSBxdWV1ZVtxdWV1ZS5sZW5ndGggLSAxXSkgIT09IDEpIHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygicmV2ZXJzZToiLCBxdWV1ZSk7CiAgICAgICAgICAgICAgcXVldWUucmV2ZXJzZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBxdWV1ZS5wdXNoKGlkKTsKICAgICAgICAgICAgcXVldWVTZXQuYWRkKGlkKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgKGFjdGl2ZUtleS52YWx1ZSA9PSAwIHx8IGFjdGl2ZUtleS52YWx1ZSA9PSA0KSAmJiBxdWV1ZVtxdWV1ZS5sZW5ndGggLSAxXSA9PSBhY3RpdmVLZXkudmFsdWUpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInJldmVyc2U6IiwgcXVldWUpOwogICAgICAgICAgICBxdWV1ZS5yZXZlcnNlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlkID09IHF1ZXVlWzBdKSB7CiAgICAgICAgICAgIHF1ZXVlU2V0LmRlbGV0ZShxdWV1ZVswXSk7CiAgICAgICAgICAgIHF1ZXVlLnNoaWZ0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygicXVldWU6IiwgcXVldWUpOwoKICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkgewogICAgICAgICAgaWYgKHF1ZXVlW3F1ZXVlLmxlbmd0aCAtIDFdID09IDAgfHwgcXVldWVbcXVldWUubGVuZ3RoIC0gMV0gPT0gNCkgewogICAgICAgICAgICBhY3RpdmVLZXkudmFsdWUgPSBxdWV1ZVtxdWV1ZS5sZW5ndGggLSAxXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFjdGl2ZUtleS52YWx1ZSA9IHF1ZXVlWzBdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdCwgb3B0aW9ucyk7CiAgICBjb25zdCBib3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImRlbW8tYm94Iik7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoYm94ZXNbaV0pOwogICAgfQogIH07CiAgCiAgLy8g5YWD57Sg5oyC6L295a6M5oiQ55qE5pe25YCZ5rOo5YaM55uR5ZCsCiAgb25Nb3VudGVkKGFkZE9ic2VydmVyKTsKCiAgcmV0dXJuIHsKICAgIGFjdGl2ZUtleSwKICAgIHRhZ1NlbGVjdGVkLAogIH07Cn0KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIFZ1ZSB7CiAgdGFnTGlzdCA9IFsidGFnMCIsICJ0YWcxIiwgInRhZzIiLCAidGFnMyIsICJ0YWc0Il07CiAgaGVpZ2h0TGlzdCA9IFsxMDAsIDIwMCwgNDAwLCA3MDAsIDMwMF07CiAgc2VsZWN0ZXIgPSBzZXR1cCgoKSA9PiB1c2VTZWxlY3RlZCgpKTsKfQo="},{"version":3,"sources":["/Users/evensun/vue3-app/src/App.vue"],"names":[],"mappings":"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","file":"/Users/evensun/vue3-app/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <link\n    href=\"https://fonts.font.im/css?family=Kirang+Haerang\"\n    rel=\"stylesheet\"\n  />\n  <link href=\"https://fonts.font.im/css?family=Comfortaa\" rel=\"stylesheet\" />\n\n  <view class=\"demo-body\">\n    <header class=\"demo-header\">Intersection Observer Demo</header>\n    <view class=\"demo-tags\">\n      <view\n        v-for=\"(tag, index) in tagList\"\n        :key=\"index\"\n        :class=\"['demo-tag', index == selecter.activeKey ? 'active' : '']\"\n      >\n        {{ tag }}\n      </view>\n    </view>\n\n    <view class=\"demo-scroll\" id=\"demo-scroll\">\n      <view\n        v-for=\"(height, index) in heightList\"\n        :key=\"index\"\n        class=\"demo-box\"\n        :style=\"{ height: `${height}px` }\"\n        :id=\"`box-${index}`\"\n      >\n        {{ index }}\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, setup } from \"vue-class-component\";\nimport { onMounted, ref, reactive } from \"vue\";\n\nfunction useSelected() {\n  let activeKey = ref(0);\n\n  const tagSelected = (index: number) => {\n    activeKey.value = index;\n  };\n\n  const queue: Array<number> = reactive([]);\n  const queueSet: Set<number> = new Set();\n  const addObserver = () => {\n    const root = document.getElementById(\"#demo-scroll\");\n    let options = {\n      root,\n      threshold: [0],\n    };\n\n    const handleIntersect = (entries: any) => {\n      entries.forEach((entry: any) => {\n        \n        // 解析id\n        const id = entry?.target?.id.split(\"-\")[1] || 0;\n\n        // 相交\n        if (entry.isIntersecting) {\n          if (!queueSet.has(id)) {\n            if (queue.length > 0 && Math.abs(id - queue[queue.length - 1]) !== 1) {\n              // console.log(\"reverse:\", queue);\n              queue.reverse();\n            }\n\n            queue.push(id);\n            queueSet.add(id);\n          }\n        } else {\n          if (queue.length > 0 && (activeKey.value == 0 || activeKey.value == 4) && queue[queue.length - 1] == activeKey.value) {\n            // console.log(\"reverse:\", queue);\n            queue.reverse();\n          }\n\n          if (id == queue[0]) {\n            queueSet.delete(queue[0]);\n            queue.shift();\n          }\n        }\n\n        console.log(\"queue:\", queue);\n\n        if (queue.length > 0) {\n          if (queue[queue.length - 1] == 0 || queue[queue.length - 1] == 4) {\n            activeKey.value = queue[queue.length - 1];\n          } else {\n            activeKey.value = queue[0];\n          }\n        }\n      });\n    };\n\n    const observer = new IntersectionObserver(handleIntersect, options);\n    const boxes = document.getElementsByClassName(\"demo-box\");\n    for (let i = 0; i < boxes.length; i++) {\n      observer.observe(boxes[i]);\n    }\n  };\n  \n  // 元素挂载完成的时候注册监听\n  onMounted(addObserver);\n\n  return {\n    activeKey,\n    tagSelected,\n  };\n}\n\nexport default class App extends Vue {\n  tagList = [\"tag0\", \"tag1\", \"tag2\", \"tag3\", \"tag4\"];\n  heightList = [100, 200, 400, 700, 300];\n  selecter = setup(() => useSelected());\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.demo {\n  &-box {\n    width: 100%;\n    padding: 10px 24px;\n    background: rgb(94, 217, 226);\n    display: flex;\n    box-sizing: border-box;\n    margin-bottom: 20px;\n    font-size: 50px;\n  }\n\n  &-scroll {\n    background: rgba(224, 193, 236, 0.8);\n    height: 600px;\n    width: 100%;\n    margin-top: 20px;\n    overflow-y: scroll;\n  }\n\n  &-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    font-family: \"Kirang Haerang\", cursive;\n    font-size: 50px;\n    margin-top: 20px;\n  }\n\n  &-body {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-content: center;\n    width: 600px;\n    margin: 0 auto;\n  }\n\n  &-tags {\n    display: flex;\n    flex-direction: row;\n    margin-top: 50px;\n  }\n\n  &-tag {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-content: center;\n    padding: 8px 14px;\n    background: rgb(147, 177, 231);\n    width: 80px;\n    margin-right: 10px;\n    border-radius: 20px;\n    font-size: 20px;\n    font-family: \"Comfortaa\", cursive;\n\n    &.active {\n      background: rgb(174, 148, 245);\n      font-weight: bold;\n    }\n  }\n}\n</style>\n"]}]}